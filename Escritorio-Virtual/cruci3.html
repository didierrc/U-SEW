<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Datos que describe el documento -->
    <title>Escritorio Virtual - Juegos</title>

    <meta charset="UTF-8">
    <meta name="author" content="Didier Yamil Reyes Castro">
    <meta name="description" content="Documento con el juego Crucigrama Matemático.">
    <meta name="keywords" content="juegos,matemática,razonamiento,agilidad">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="estilo/estilo.css">
    <link rel="stylesheet" type="text/css" href="estilo/layout.css">
    <link rel="stylesheet" type="text/css" href="estilo/juegos.css">
    <link rel="stylesheet" type="text/css" href="estilo/crucigrama.css">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="js/crucigrama.js"></script>

    <link rel="icon" href="multimedia/favicon-spidey.ico">
</head>

<body>
    <!-- Seccion Header que agrupa la cabezera de la página web (Cosas que se repiten en todas las páginas Web) -->
    <header>
        <h1>Escritorio Virtual</h1>

        <!-- Seccion Nav que agrupa enlaces a otras páginas web -->
        <nav>
            <a href="index.html" accesskey="I" tabindex="1">Inicio</a>
            <a href="sobremi.html" accesskey="S" tabindex="2">Sobre mi</a>
            <a href="noticias.html" accesskey="N" tabindex="3">Noticias</a>
            <a href="agenda.html" accesskey="A" tabindex="4">Agenda</a>
            <a href="meteorologia.html" accesskey="M" tabindex="5">Meteorología</a>
            <a href="viajes.php" accesskey="V" tabindex="6">Viajes</a>
            <a href="juegos.html" accesskey="J" tabindex="7">Juegos</a>
        </nav>
    </header>

    <!-- Section que representa la barra de navegacion a los diferentes juegos. Fuera del main ya que lo
     comparten los distintos HTML que componen los juegos -->
    <section>
        <h2>Juegos:</h2>
        <nav>
            <a href="memoria.html" accesskey="E" tabindex="8">Memoria</a>
            <a href="sudoku.html" accesskey="D" tabindex="9">Sudoku</a>
            <a href="crucigrama.php" accesskey="C" tabindex="10">Crucigrama matemático</a>
            <a href="api.html" accesskey="P" tabindex="11">Aplicacion con APIs</a>
            <a href="concesionario.php" accesskey="O" tabindex="12">Concesionario</a>
        </nav>
    </section>

    <h3>Crucigrama matemático</h3>

    <!-- Seccion que explica el juego - Pruebas de usabilidad.
    -->
    <section>
        <h4>Instrucciones:</h4>
        <ol>
            <li>Selecciona la casilla para introducir un número u operación
                <ul>
                    <li> Los números van del 1 al 9. </li>
                    <li> Las operaciones: + (suma) - (resta) * (multiplicación) / (división)</li>
                </ul>
            </li>
            <li>Introduce el número u operación mediante el teclado. Puedes utilizar el Pad numérico o Combinaciones
                especiales para colocar las operaciones.</li>
            <li>Si quieres cambiar el número u operación. Selecciona la casilla y:
                <ul>
                    <li>Usa la tecla de retroceso.</li>
                    <li>Introduce directamente un número u operación.</li>
                </ul>
            </li>
        </ol>
    </section>

    <!-- Seccion que simplemente agrupa las diferentes dificultades del crucigrama
        (puesta para hacer las pruebas de usabilidad "más rápidas" )
    -->
    <section>
        <h4>Elige el nivel de dificultad:</h4>
        <button>Fácil</button>
        <button>Medio</button>
        <button>Difícil</button>
    </section>

    <script>

        // Seleccion del crucigrama a jugar
        var crucigrama;

        $("body>section:last-of-type>button:first").on("click", () => {
            crucigrama = new Crucigrama("4,*,.,=,12,#,#,#,5,#,#,*,#,/,#,#,#,*,4,-,.,=,.,#,15,#,.,*,#,=,#,=,#,/,#,=,.,#,3,#,4,*,.,=,20,=,#,#,#,#,#,=,#,#,8,#,9,-,.,=,3,#,.,#,#,-,#,+,#,#,#,*,6,/,.,=,.,#,#,#,.,#,#,=,#,=,#,#,#,=,#,#,6,#,8,*,.,=,16", "facil");
            crucigrama.paintMathword();
        });
        $("body>section:last-of-type>button:nth-of-type(2)").on("click", () => {
            crucigrama = new Crucigrama("12,*,.,=,36,#,#,#,15,#,#,*,#,/,#,#,#,*,.,-,.,=,.,#,55,#,.,*,#,=,#,=,#,/,#,=,.,#,15,#,9,*,.,=,45,=,#,#,#,#,#,=,#,#,72,#,20,-,.,=,11,#,.,#,#,-,#,+,#,#,#,*,56,/,.,=,.,#,#,#,.,#,#,=,#,=,#,#,#,=,#,#,12,#,16,*,.,=,32", "medio");
            crucigrama.paintMathword();
        });
        $("body>section:last-of-type>button:last").on("click", () => {
            crucigrama = new Crucigrama("4,.,.,=,36,#,#,#,25,#,#,*,#,.,#,#,#,.,.,-,.,=,.,#,15,#,.,*,#,=,#,=,#,.,#,=,.,#,18,#,6,*,.,=,30,=,#,#,#,#,#,=,#,#,56,#,9,-,.,=,3,#,.,#,#,*,#,+,#,#,#,*,20,.,.,=,18,#,#,#,.,#,#,=,#,=,#,#,#,=,#,#,18,#,24,.,.,=,72", "dificil");
            crucigrama.paintMathword();
        });

        // Añadiendo el evento keydown
        window.addEventListener("keydown", (event) => {

            var teclasPermitidas = /[1-9/*+\-]/

            if (crucigrama && !$("main[data-state='form_time']")[0]) {
                // Teclas aceptadas
                // Usabilidad - Tecla de retroceso
                if (teclasPermitidas.test(event.key) || event.keyCode == 8) {

                    if (!crucigrama.isACellClicked) {
                        alert("Una celda tiene que ser seleccionada!!");
                    } else {
                        crucigrama.introduceElement(event.key);
                    }

                }
            }
        });

    </script>

    <main>
    </main>

    <section data-type="botonera">
        <h4>Botonera:</h4> <!-- Pruebas de usabilidad.-->
        <button onclick="crucigrama ? crucigrama.introduceElement(1) : alert('Tienes que crear un juego!')">1</button>
        <button onclick="crucigrama ? crucigrama.introduceElement(2) : alert('Tienes que crear un juego!')">2</button>
        <button onclick="crucigrama ? crucigrama.introduceElement(3) : alert('Tienes que crear un juego!')">3</button>
        <button onclick="crucigrama ? crucigrama.introduceElement(4) : alert('Tienes que crear un juego!')">4</button>
        <button onclick="crucigrama ? crucigrama.introduceElement(5) : alert('Tienes que crear un juego!')">5</button>
        <button onclick="crucigrama ? crucigrama.introduceElement(6) : alert('Tienes que crear un juego!')">6</button>
        <button onclick="crucigrama ? crucigrama.introduceElement(7) : alert('Tienes que crear un juego!')">7</button>
        <button onclick="crucigrama ? crucigrama.introduceElement(8) : alert('Tienes que crear un juego!')">8</button>
        <button onclick="crucigrama ? crucigrama.introduceElement(9) : alert('Tienes que crear un juego!')">9</button>
        <button onclick="crucigrama ? crucigrama.introduceElement('*') : alert('Tienes que crear un juego!')">*</button>
        <button onclick="crucigrama ? crucigrama.introduceElement('+') : alert('Tienes que crear un juego!')">+</button>
        <button onclick="crucigrama ? crucigrama.introduceElement('-') : alert('Tienes que crear un juego!')">-</button>
        <button onclick="crucigrama ? crucigrama.introduceElement('/') : alert('Tienes que crear un juego!')">/</button>
    </section>

    <section data-type="record">
        <h4>Los 10 mejores tiempos para el nivel: facil</h4>
        <ol>
            <li>Nombre: acc2 Apellidos: acc2 Tiempo: 00:00:10</li>
            <li>Nombre: fwfwe Apellidos: fwef Tiempo: 00:00:12</li>
            <li>Nombre: trtr Apellidos: trtr Tiempo: 00:00:13</li>
            <li>Nombre: frfr Apellidos: frfr Tiempo: 00:00:14</li>
            <li>Nombre: juju Apellidos: juju Tiempo: 00:00:15</li>
            <li>Nombre: DIDIER_TEST Apellidos: REYES_TEST Tiempo: 00:00:19</li>
            <li>Nombre: Validation Test Apellidos: Validation Tiempo: 00:00:28</li>
            <li>Nombre: acc Apellidos: acc Tiempo: 00:00:37</li>
        </ol>
    </section>
    <!-- Usabilidad - Usuario quería feedback sonoro para saber las correctas o falsas. -->

    <audio controls="">
        <source src="multimedia/correct.mp3" type="audio/mpeg">
        <source src="multimedia/correct.wav" type="audio/wav">
    </audio>

    <audio controls="">
        <source src="multimedia/wrong.mp3" type="audio/mpeg">
        <source src="multimedia/wrong.wav" type="audio/wav">
    </audio>




</body>

</html>